---
description: Desktop layout — 3-panel structure (Smart Inbox | Conversation | Customer Panel), top context bar, status system, onboarding.
globs: gaqno-omnichannel-ui/**/*.tsx, gaqno-omnichannel-ui/**/*.css
alwaysApply: false
---

# Desktop Layout Structure

## Structure (3 panels)

```
┌─────────────────────────────────────────────────────────────┐
│ Top Context Bar                                             │
├──────────────┬──────────────────────┬───────────────────────┤
│ Smart Inbox  │ Conversation (Center)│ Customer Panel (Right)│
│ (Left)       │                      │                       │
└──────────────┴──────────────────────┴───────────────────────┘
```

## 1. Top Context Bar

- **Left:** Workspace name, Notification icon
- **Center:** Global Search (search customer, phone, message)
- **Right:** Channel selector, Plan badge (Starter/Pro/Business), Agent avatar
- **Remove:** Dashboard/WhatsApp Business tab duplication; everything from sidebar

## 2. Left Panel — Smart Inbox

- **Title:** Inbox (not "Chats")
- **KPI strip:** Open (n) · Waiting (n) · Overdue (n) · Closed Today (n)
- **Conversation card:** Line 1 = Customer name (bold) + channel icon + status badge (Open/Waiting/Bot). Line 2 = last message preview (1 line). Right = timestamp, unread badge, assigned agent avatar
- **Urgency:** Red left border if overdue, yellow/amber if waiting
- **Density toggle:** Comfortable | Compact
- **Today Focus Mode:** Toggle — only Open, Overdue, Assigned to me

## 3. Center Panel — Conversation

- **Header:** Customer name; then meta line: Phone | Channel | Assigned to | SLA Timer; then [Resolve] [Assign] [Tag] [More]
- **Banner:** "Customer waiting for reply" when last message is from customer
- **Message area:** Lighter chat background, stronger bubble contrast; internal notes in distinct color (e.g. purple); system messages subtle gray
- **Input:** Left = Attachment, Template, Internal note toggle. Right = Send, Emoji. Hint: "Ctrl + Enter to send"

## 4. Right Panel — Customer Context

- **Section 1:** Customer overview (name, phone, channel, tags, first contact)
- **Section 2:** Conversation summary (AI-generated, 2–3 lines)
- **Section 3:** Quick actions — Add tag, Add note, Block, View history
- **Collapsible** for users who want more space

## Status System (4 only)

- Open
- Waiting (customer)
- Overdue
- Closed

No extra states. SMB clarity.

## Onboarding (no conversations)

- Title: "Let's Set Up Your Inbox"
- Steps: Connect WhatsApp → Add first agent → Create quick reply → Send test message
- Progress indicator (e.g. step 1 of 4 / progress bar)

## Visual

- Subtle shadows between panels; different surface shades (sidebar, inbox, chat, customer panel)
- White-label: branding on login, sidebar logo, favicon, accent — avoid product name repetition in main UI
